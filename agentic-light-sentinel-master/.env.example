# Light Pollution Sentinel - Environment Configuration
# Copy this file to .env.local and configure your values

#==============================================================================
# ENVIRONMENT
#==============================================================================
NODE_ENV=production
ENVIRONMENT=production
PORT=3000

#==============================================================================
# APPLICATION
#==============================================================================
APP_NAME="INFINITY LOOP"
APP_VERSION=1.0.0
APP_DESCRIPTION="Advanced light pollution monitoring and alerting system powered by INFINITY LOOP"
APP_URL=https://your-domain.com

#==============================================================================
# DATABASE
#==============================================================================
# PostgreSQL Database URL
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/lights"

# Database Pool Configuration
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_TIMEOUT=30000

#==============================================================================
# AUTHENTICATION & SECURITY
#==============================================================================
# JWT Configuration (REQUIRED for production)
JWT_SECRET=your-super-secure-jwt-secret-key-here-minimum-64-characters-long
JWT_EXPIRES_IN=24h
JWT_ISSUER=light-pollution-sentinel

# API Key Configuration
API_KEY_PREFIX=il_
API_KEY_LENGTH=32

# Session Configuration
SESSION_SECRET=your-session-secret-key-here
SESSION_MAX_AGE=86400000

# CSRF Protection
CSRF_SECRET=your-csrf-secret-key-here

#==============================================================================
# EMAIL CONFIGURATION
#==============================================================================
# SMTP Configuration for alerts
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Email Settings
FROM_EMAIL=favchildofuniverse@gmail.com
FROM_NAME="INFINITY LOOP"
ADMIN_EMAIL=favchildofuniverse@gmail.com

# Gmail OAuth (alternative to SMTP)
GMAIL_CLIENT_ID=your-gmail-client-id
GMAIL_CLIENT_SECRET=your-gmail-client-secret
GMAIL_REFRESH_TOKEN=your-gmail-refresh-token

#==============================================================================
# EXTERNAL APIs
#==============================================================================
# NASA VIIRS Data API
NASA_API_KEY="your_nasa_earthdata_api_key_here"
VIIRS_DATA_URL=https://nrt3.modaps.eosdis.nasa.gov/api/v2/content/archives

# Weather API (optional)
WEATHER_API_KEY=your-weather-api-key
WEATHER_API_URL=https://api.openweathermap.org/data/2.5

# Geocoding API
GEOCODING_API_KEY=your-geocoding-api-key

#==============================================================================
# REDIS CACHE (optional but recommended for production)
#==============================================================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

#==============================================================================
# FILE STORAGE
#==============================================================================
# Local storage path
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=10485760

# AWS S3 (optional)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-s3-bucket-name

#==============================================================================
# MONITORING & LOGGING
#==============================================================================
# Log Level (error, warn, info, debug)
LOG_LEVEL=info
LOG_FORMAT=json

# Application Insights / Monitoring
INSIGHTS_CONNECTION_STRING=your-application-insights-connection-string
INSIGHTS_SEED="42"

# Error Tracking (Sentry)
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=production

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=30000
HEALTH_CHECK_INTERVAL=60000

#==============================================================================
# RATE LIMITING
#==============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

#==============================================================================
# CORS CONFIGURATION
#==============================================================================
CORS_ORIGIN=https://your-domain.com,https://www.your-domain.com
CORS_CREDENTIALS=true

#==============================================================================
# SSL/TLS CONFIGURATION
#==============================================================================
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/key.pem
SSL_CA_PATH=/path/to/ssl/ca.pem

# Let's Encrypt
LETSENCRYPT_EMAIL=admin@your-domain.com
LETSENCRYPT_DOMAIN=your-domain.com

#==============================================================================
# ANALYTICS & TRACKING
#==============================================================================
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX-X
GOOGLE_TAG_MANAGER_ID=GTM-XXXXXXX

#==============================================================================
# FEATURE FLAGS
#==============================================================================
ENABLE_REAL_TIME_ALERTS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_DATA_EXPORT=true
ENABLE_API_DOCS=true
ENABLE_MONITORING_DASHBOARD=true
ENABLE_BATCH_PROCESSING=true

#==============================================================================
# DATA PROCESSING
#==============================================================================
# VIIRS Data Processing
VIIRS_PROCESSING_BATCH_SIZE=1000
VIIRS_PROCESSING_INTERVAL=3600000
VIIRS_DATA_RETENTION_DAYS=90

# Alert Processing
ALERT_PROCESSING_INTERVAL=300000
ALERT_BATCH_SIZE=100
ALERT_RETRY_ATTEMPTS=3

#==============================================================================
# PERFORMANCE TUNING
#==============================================================================
# Memory limits
NODE_OPTIONS="--max-old-space-size=4096"
UV_THREADPOOL_SIZE=16

# Database connection pooling
DB_CONNECTION_LIMIT=20
DB_QUERY_TIMEOUT=30000

#==============================================================================
# BACKUP CONFIGURATION
#==============================================================================
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

# Remote backup (optional)
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_ENCRYPT=true

#==============================================================================
# DEPLOYMENT CONFIGURATION
#==============================================================================
DEPLOY_ENVIRONMENT=production
DEPLOY_STRATEGY=blue-green
HEALTH_CHECK_URL=http://localhost:3000/api/health

# Docker Configuration
DOCKER_REGISTRY=your-registry.com
DOCKER_IMAGE_TAG=latest

#==============================================================================
# DEVELOPMENT SETTINGS (ignore in production)
#==============================================================================
# Only used in development
DEV_ENABLE_MOCK_DATA=false
DEV_SKIP_EMAIL_VERIFICATION=false
DEV_LOG_SQL_QUERIES=false

#==============================================================================
# WEBHOOK CONFIGURATION
#==============================================================================
WEBHOOK_SECRET=your-webhook-secret
WEBHOOK_TIMEOUT=10000

# Slack integration (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#alerts

# Discord integration (optional)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

#==============================================================================
# CUSTOM CONFIGURATION
#==============================================================================
# Add your custom environment variables here
CUSTOM_CONFIG_1=value1
CUSTOM_CONFIG_2=value2
